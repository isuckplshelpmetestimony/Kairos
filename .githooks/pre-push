#!/bin/sh

# Block pushing directly to protected branches
protected_branches="^(main|master)$"

current_branch="$(git rev-parse --abbrev-ref HEAD)"
if echo "$current_branch" | grep -Eq "$protected_branches"; then
  echo "\n[HOOK] Pushing directly to '$current_branch' is blocked. Push a feature branch and open a PR.\n" 1>&2
  exit 1
fi

exit 0


